{% extends 'base.html' %}

{% block title %}Materials - {{ user.username }}'s account - {% endblock %}

{% block content %}
<div class="row"><div class="page-header">
    <h1>{{ user.username }}'s account - Materials</h1>
</div></div>

<div class="row">
    <div class="col-sm-3">
        <ul class="nav nav-pills nav-stacked">
            <li><a href="{% url 'account_home' %}"><span class="glyphicon glyphicon-home"></span> Home</a></li>
            <li class="active"><a href="{% url 'account_materials' %}"><span class="glyphicon glyphicon-record"></span> Materials</a></li>
            <li><a href="{% url 'account_uploads' %}"><span class="glyphicon glyphicon-upload"></span> Uploads</a></li>
            <li><a href="{% url 'account_statistics' %}"><span class="glyphicon glyphicon-stats"></span> Statistics</a></li>
            <li><a href="{% url 'account_settings' %}"><span class="glyphicon glyphicon-cog"></span> Settings</a></li>
        </ul>
    </div>
    <div class="col-sm-9"><div class="row">{# TODO: Check why here is row class #}
        <div class="table-responsive">
            <table class="table table-hover table-bordered">
                <tr>
                    <th>Name</th>
                    <th>Category</th>
                    <th>Date</th>
                    <th>Engine</th>
                    <th>Downloads</th>
                    <th></th>
                </tr>
                {% for obj in user.materials.published %}
                <tr class="{{ obj.get_css_class }}">
                    <td>{{ obj.name }}</td>
                    <td>{{ obj.category }}</td>
                    <td>{{ obj.date }}</td>
                    <td>{{ obj.get_engine_display }}</td>
                    <td>{{ obj.downloads }}</td>
                    <td><a class="btn btn-default btn-sm btn-block" href="{{ obj.get_absolute_url }}"><span class="glyphicon glyphicon-search"></span> Open</a></td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div></div>
</div>
{% endblock %}
